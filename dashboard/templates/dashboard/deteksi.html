{% extends 'base.html' %}
{% load static %}

{% block title %}Deteksi Daun - AgroGuard{% endblock %}

{% block extra_css %}
<!-- Font Awesome 6 -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
<link rel="stylesheet" href="{% static 'dashboard/css/deteksi.css' %}">
{% endblock %}

{% block content %}
<section class="dashboard-container">
    <h1>Deteksi Hama Pada Daun</h1>
    <p>Upload foto daun untuk mendeteksi kemungkinan serangan hama dengan teknologi AI.</p>

    <!-- Upload Section -->
    <div class="upload-area">
        <label class="upload-label">
            <i class="fa-solid fa-camera"></i> Upload Foto Daun
        </label>
        <div class="upload-box" id="uploadBox">
            <i class="fa-solid fa-cloud-arrow-up upload-icon" style="font-size: 48px; color: #16a085;"></i>
            <p><b>Drag & Drop foto di sini</b><br>atau klik untuk browse file</p>
            <small><i class="fa-solid fa-file-image"></i> Format: JPG, PNG | <i class="fa-solid fa-weight-hanging"></i> Max: 5MB</small>
            <input type="file" name="image" id="fileInput" accept="image/*">
        </div>
    </div>

    <!-- Result Section -->
    <div class="result-container">
        <div class="result-box">
            <h3><i class="fa-solid fa-image"></i> Foto Daun yang Dipilih:</h3>
            <div class="preview-box" id="previewBox">
                <img src="{% static 'dashboard/images/sample-leaf.png' %}" alt="Leaf Preview">
            </div>
            <button class="btn-primary">Mulai Deteksi</button>

            <div class="info-box">
                <label><i class="fa-solid fa-leaf"></i> Informasi Tambahan:</label>
                <select>
                    <option>-- Pilih Jenis Tanaman --</option>
                </select>
            </div>
        </div>

        <div class="result-box">
            <h3><i class="fa-solid fa-circle-check"></i> Hasil Deteksi :</h3>
            <p class="detected-text">
                <i class="fa-solid fa-check"></i> TERDETEKSI SERANGAN HAMA
            </p>
            <div class="result-detail">
                <ol>
                    <li>Jenis Hama : <b>Ulat Grayak (Spodoptera frugiperda)</b></li>
                    <li>Confidence Score : <b>87.5%</b> (Tingkat kepercayaan)</li>
                    <li>Tingkat Keparahan : <b>SEDANG</b> (Perlu treatment)</li>
                </ol>
            </div>
            <div class="btn-group">
                <button class="btn-secondary">Rekomendasi Treatment</button>
                <button class="btn-success"></i> Simpan</button>
            </div>
        </div>
    </div>

    <!-- Tips Section -->
    <div class="tips-box">
        <h4><i class="fa-solid fa-lightbulb"></i> Tips untuk Deteksi Terbaik</h4>
        <ul>
            <li>Gunakan kamera dengan pencahayaan cukup.</li>
            <li>Foto daun dari dekat, hanya 1 daun di frame.</li>
            <li>Hindari background yang ramai.</li>
            <li>Pastikan gambar tidak blur.</li>
        </ul>
    </div>
</section>
{% endblock %}
