{% extends 'admin_dashboard/base.html' %}
{% load static %}
{% block content %}
<div class="p-8 bg-gradient-to-b from-green-50 to-green-200 min-h-screen rounded-xl shadow-inner">

  <!-- Header -->
  <div class="flex justify-between items-center mb-6">
    <div>
      <h1 class="text-3xl font-bold text-gray-800">Library Pencegahan Hama</h1>
      <p class="text-green-700 text-md">Selamat datang AgroAdmin ðŸŒ¿</p>
    </div>
    <div class="flex items-center space-x-3">
      <div class="text-right">
        <p class="text-gray-800 font-semibold text-sm">Kristi Irene</p>
        <p class="text-gray-500 text-xs">Admin</p>
      </div>
      <div class="bg-green-900 text-white rounded-full w-10 h-10 flex items-center justify-center font-bold">
        KI
      </div>
    </div>
  </div>

  <!-- Tambah Pencegahan -->
  <div class="mb-6">
    <a href="{% url 'tambah_pencegahan' %}" 
       class="px-5 py-2.5 bg-green-100 border border-green-400 text-green-700 font-medium rounded-full shadow hover:bg-green-200 transition">
      + Tambahkan Pencegahan
    </a>
  </div>

  <!-- Table -->
  <div class="bg-gradient-to-b from-yellow-100 to-yellow-200 p-4 rounded-2xl border border-yellow-300 shadow">
    <table class="w-full text-left border-collapse">
      <thead class="bg-yellow-200 text-gray-800 font-bold">
        <tr>
          <th class="p-3 rounded-tl-xl">Jenis Hama</th>
          <th class="p-3">Judul</th>
          <th class="p-3">Sumber</th>
          <th class="p-3 text-center rounded-tr-xl">Aksi</th>
        </tr>
      </thead>
      <tbody>
        {% for item in data %}
        <tr class="hover:bg-yellow-50 border-b border-yellow-300">
          <td class="p-3 text-gray-700">{{ item.jenis_hama }}</td>
          <td class="p-3 text-gray-700">{{ item.judul }}</td>
          <td class="p-3 text-gray-700">{{ item.sumber }}</td>
          <td class="p-3 text-center space-x-2">
            <a href="{% url 'edit_pencegahan' item.id %}" 
               class="bg-green-500 hover:bg-green-600 text-white px-3 py-1 rounded-full text-sm font-medium">Edit</a>
            <a href="{% url 'hapus_pencegahan' item.id %}" 
               class="bg-red-500 hover:bg-red-600 text-white px-3 py-1 rounded-full text-sm font-medium">Hapus</a>
            <a href="{% url 'detail_pencegahan' item.id %}" 
               class="bg-yellow-400 hover:bg-yellow-500 text-white px-3 py-1 rounded-full text-sm font-medium">Detail</a>
          </td>
        </tr>
        {% empty %}
        <tr>
          <td colspan="4" class="text-center py-4 text-gray-500 italic">
            Belum ada data pencegahan hama.
          </td>
        </tr>
        {% endfor %}
      </tbody>
    </table>
  </div>

</div>
{% endblock %}
