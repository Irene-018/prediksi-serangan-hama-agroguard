{% extends 'admin_dashboard/base.html' %}
{% load static %}

{% block title %}Tambah Data Pencegahan - AgroGuard{% endblock %}

{% block extra_css %}
<link rel="stylesheet" href="{% static 'admin_dashboard/css/edit_hama.css' %}">
{% endblock %}

{% block content %}
<div class="form-container">
  <h2><i class="fas fa-shield-alt"></i> Tambah Data Pencegahan</h2>

  {% if messages %}
    {% for message in messages %}
    <div class="alert alert-{{ message.tags }}">{{ message }}</div>
    {% endfor %}
  {% endif %}

  <form method="POST">
    {% csrf_token %}
    
    <div class="form-group">
      <label>Jenis Hama <span class="required">*</span></label>
      <select name="jenis_hama" required>
        <option value="">-- Pilih Jenis Hama --</option>
        {% for hama in hama_list %}
        <option value="{{ hama.id }}">{{ hama.nama }}</option>
        {% endfor %}
      </select>
    </div>

    <div class="form-group">
      <label>Judul Pencegahan <span class="required">*</span></label>
      <input type="text" name="judul" placeholder="Contoh: Pencegahan Serangan Ulat Grayak" required>
    </div>

    <div class="form-group">
      <label>Sumber <span class="required">*</span></label>
      <input type="url" name="sumber" placeholder="https://contoh.com" required>
    </div>

    <div class="form-group">
      <label>Deskripsi <span class="required">*</span></label>
      <textarea name="deskripsi" rows="4" placeholder="Deskripsi langkah-langkah pencegahan..." required></textarea>
    </div>

    <div class="button-group">
      <button type="submit" class="btn-simpan">
        <i class="fas fa-save"></i> Simpan
      </button>
      <a href="{% url 'admin_dashboard:data_pencegahan' %}" class="btn-batal">
        <i class="fas fa-times"></i> Batal
      </a>
    </div>
  </form>
</div>
{% endblock %}
