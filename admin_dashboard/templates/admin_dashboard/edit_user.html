{% extends 'admin_dashboard/base.html' %}
{% load static %}

{% block title %}Edit Pengguna - AgroGuard{% endblock %}

{% block extra_css %}
<link rel="stylesheet" href="{% static 'admin_dashboard/css/form.css' %}">
{% endblock %}

{% block content %}
<div class="form-container">
  <h2><i class="fas fa-user-edit"></i> Edit Data Pengguna</h2>

  {% if messages %}
    {% for message in messages %}
    <div class="alert alert-{{ message.tags }}">{{ message }}</div>
    {% endfor %}
  {% endif %}

  <form method="POST">
    {% csrf_token %}

    <div class="form-group">
      <label>Nama Pengguna (Username) <span class="required">*</span></label>
      <input type="text" name="username" value="{{ user.username }}" required>
    </div>

    <div class="form-group">
      <label>Email <span class="required">*</span></label>
      <input type="email" name="email" value="{{ user.email }}" required>
    </div>

    <div class="form-group">
      <label>Status Akun</label>
      <div style="display: flex; align-items: center; gap: 10px; margin-top: 8px;">
        <input type="checkbox" name="is_active" id="is_active" {% if user.is_active %}checked{% endif %} 
               style="width: auto; margin: 0;">
        <label for="is_active" style="margin: 0; font-weight: 500;">
          <i class="fas fa-check-circle" style="color: #28a745;"></i> Aktif
        </label>
      </div>
    </div>

    <div class="form-group">
      <label>Password Baru (Kosongkan jika tidak ingin mengubah)</label>
      <input type="password" name="password" placeholder="Masukkan password baru (opsional)">
      <p style="font-size: 0.85rem; color: #6b7280; margin-top: 5px;">
        <i class="fas fa-info-circle"></i> Biarkan kosong jika tidak ingin mengubah password
      </p>
    </div>

    <div class="button-group">
      <button type="submit" class="btn-update">
        <i class="fas fa-save"></i> Update
      </button>
      <a href="{% url 'admin_dashboard:kelola_user' %}" class="btn-batal">
        <i class="fas fa-times"></i> Batal
      </a>
    </div>
  </form>
</div>
{% endblock %}